!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(u){"use strict";var h,d;u.fn.ratingLocales={},u.fn.ratingThemes={},h={NAMESPACE:".rating",DEFAULT_MIN:0,DEFAULT_MAX:5,DEFAULT_STEP:.5,isEmpty:function(t,e){return null==t||0===t.length||e&&""===u.trim(t)},getCss:function(t,e){return t?" "+e:""},addCss:function(t,e){t.removeClass(e).addClass(e)},getDecimalPlaces:function(t){t=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},applyPrecision:function(t,e){return parseFloat(t.toFixed(e))},handler:function(t,e,a,n,i){i=i?e:e.split(" ").join(h.NAMESPACE+" ")+h.NAMESPACE;n||t.off(i),t.on(i,function(t){u.proxy(a,self)(t)})}},(d=function(t,e){this.$element=u(t),this._init(e)}).prototype={constructor:d,_parseAttr:function(t,e){var a,n,i=this.$element,r=i.attr("type");if("range"===r||"number"===r){switch(r=e[t]||i.data(t)||i.attr(t),t){case"min":a=h.DEFAULT_MIN;break;case"max":a=h.DEFAULT_MAX;break;default:a=h.DEFAULT_STEP}i=h.isEmpty(r)?a:r,n=parseFloat(i)}else n=parseFloat(e[t]);return isNaN(n)?a:n},_parseValue:function(t){t=parseFloat(t);return isNaN(t)&&(t=this.clearValue),!this.zeroAsNull||0!==t&&"0"!==t?t:null},_setDefault:function(t,e){h.isEmpty(this[t])&&(this[t]=e)},_initSlider:function(t){var e=this,a=e.$element.val();e.initialValue=h.isEmpty(a)?0:a,e._setDefault("min",e._parseAttr("min",t)),e._setDefault("max",e._parseAttr("max",t)),e._setDefault("step",e._parseAttr("step",t)),(isNaN(e.min)||h.isEmpty(e.min))&&(e.min=h.DEFAULT_MIN),(isNaN(e.max)||h.isEmpty(e.max))&&(e.max=h.DEFAULT_MAX),(isNaN(e.step)||h.isEmpty(e.step)||0===e.step)&&(e.step=h.DEFAULT_STEP),e.diff=e.max-e.min,e._setDefault("minThreshold",e.min),e.minThreshold<e.min&&(e.minThreshold=e.min),e.minThreshold>e.max&&(e.minThreshold=e.max)},_initHighlight:function(t){var e,a=this,n=a._getCaption();t=t||a.$element.val(),e=a.getWidthFromValue(t)+"%",a.$filledStars.width(e),a.cache={caption:n,width:e,val:t}},_getContainerCss:function(){var t=this;return"rating-container"+h.getCss(t.theme,"theme-"+t.theme)+h.getCss(t.rtl,"rating-rtl")+h.getCss(t.size,"rating-"+t.size)+h.getCss(t.animate,"rating-animate")+h.getCss(t.disabled||t.readonly,"rating-disabled")+h.getCss(t.containerClass,t.containerClass)+(t.displayOnly?" is-display-only":"")},_checkDisabled:function(){var t=this,e=t.$element,a=t.options;t.disabled=void 0===a.disabled?e.attr("disabled")||!1:a.disabled,t.readonly=void 0===a.readonly?e.attr("readonly")||!1:a.readonly,t.inactive=t.disabled||t.readonly,e.attr({disabled:t.disabled,readonly:t.readonly})},_addContent:function(t,e){var a=this.$container,t="clear"===t;return this.rtl?t?a.append(e):a.prepend(e):t?a.prepend(e):a.append(e)},_generateRating:function(){var t,e=this,a=e.$element,n=e.$container=u(document.createElement("div")).insertBefore(a);h.addCss(n,e._getContainerCss()),e.$rating=t=u(document.createElement("div")).attr("class","rating-stars").appendTo(n).append(e._getStars("empty")).append(e._getStars("filled")),e.keyboardEnabled&&e.$rating.attr("tabindex",e.tabindex),e.$emptyStars=t.find(".empty-stars"),e.$filledStars=t.find(".filled-stars"),e._renderCaption(),e._renderClear(),e._initHighlight(),e._initStarTitles(),e.rtl&&(t=Math.max(e.$emptyStars.outerWidth(),e.$filledStars.outerWidth()),e.$emptyStars.width(t)),n.insertBefore(a)},_getCaption:function(){return this.$caption&&this.$caption.length?this.$caption.html():this.defaultCaption},_setCaption:function(t){this.$caption&&this.$caption.length&&this.$caption.html(t)},_renderCaption:function(){var t=this,e=t.$element.val(),a=t.captionElement?u(t.captionElement):"";t.showCaption&&(e=t.fetchCaption(e),a&&a.length?(h.addCss(a,"caption"),a.html(e),t.$caption=a):(t._addContent("caption",'<div class="caption">'+e+"</div>"),t.$caption=t.$container.find(".caption")))},_renderClear:function(){var t,e=this,a=e.clearElement?u(e.clearElement):"";e.showClear&&(t=e._getClearClass(),a.length?(h.addCss(a,t),a.attr({title:e.clearButtonTitle}).html(e.clearButton),e.$clear=a):(e._addContent("clear",'<div class="'+t+'" title="'+e.clearButtonTitle+'">'+e.clearButton+"</div>"),e.$clear=e.$container.find("."+e.clearButtonBaseClass)))},_getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},_toggleHover:function(t){var e,a=this;t&&(a.hoverChangeStars&&(e=a.getWidthFromValue(a.clearValue),e=t.val<=a.clearValue?e+"%":t.width,a.$filledStars.css("width",e)),a.hoverChangeCaption)&&(e=t.val<=a.clearValue?a.fetchCaption(a.clearValue):t.caption)&&a._setCaption(e+"")},_init:function(t){var a=this,e=a.$element.attr("tabindex",-1).addClass("rating-input"),n=a.minThreshold;return a.options=t,u.each(t,function(t,e){a[t]=e}),!a.rtl&&"rtl"!==e.attr("dir")||(a.rtl=!0,e.attr("dir","rtl")),a.starClicked=!1,a.clearClicked=!1,a._initSlider(t),a._checkDisabled(),a.displayOnly&&(a.inactive=!0,a.showClear=!1,a.hoverEnabled=!1,a.hoverChangeCaption=!1,a.hoverChangeStars=!1),a._generateRating(),a._initEvents(),a._listen(),!h.isEmpty(n)&&(h.isEmpty(e.val())||e.val()<n)&&e.val(n),t=a._parseValue(e.val()),e.val(t),e.removeClass("rating-loading")},_initCaptionTitle:function(){var t=this.fetchCaption(this.$element.val());this.$rating.attr("title",u(t).text())},_trigChange:function(t){this._initStarTitles(),this.$element.trigger("change").trigger("rating:change",t)},_initEvents:function(){var o=this;o.events={_getTouchPosition:function(t){return(h.isEmpty(t.pageX)?t.originalEvent.touches[0]:t).pageX-o.$rating.offset().left},_listenClick:function(t,e){return t.stopPropagation(),t.preventDefault(),!0!==t.handled&&(e(t),void(t.handled=!0))},_noMouseAction:function(t){return!o.mouseEnabled||!o.hoverEnabled||o.inactive||t&&t.isDefaultPrevented()},initTouch:function(t){var e,a,n=o.clearValue||0;("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)&&!o.inactive&&(e=t.originalEvent,e=h.isEmpty(e.touches)?e.changedTouches:e.touches,e=o.events._getTouchPosition(e[0]),"touchend"===t.type?(o._setStars(e),t=[o.$element.val(),o._getCaption()],o._trigChange(t),o.starClicked=!0):(e=(t=o.calculate(e)).val<=n?o.fetchCaption(n):t.caption,a=o.getWidthFromValue(n),n=t.val<=n?a+"%":t.width,o._setCaption(e),o.$filledStars.css("width",n)))},starClick:function(t){var e;o.events._listenClick(t,function(t){return!o.inactive&&(e=o.events._getTouchPosition(t),o._setStars(e),e=[o.$element.val(),o._getCaption()],o._trigChange(e),void(o.starClicked=!0))})},clearClick:function(t){o.events._listenClick(t,function(){o.inactive||(o.clear(),o.clearClicked=!0)})},starMouseMove:function(t){o.events._noMouseAction(t)||(o.starClicked=!1,t=o.events._getTouchPosition(t),t=o.calculate(t),o._toggleHover(t),o.$element.trigger("rating:hover",[t.val,t.caption,"stars"]))},starMouseLeave:function(t){o.events._noMouseAction(t)||o.starClicked||(t=o.cache,o._toggleHover(t),o.$element.trigger("rating:hoverleave",["stars"]))},clearMouseMove:function(t){var e,a;!o.events._noMouseAction(t)&&o.hoverOnClear&&(o.clearClicked=!1,t='<span class="'+o.clearCaptionClass+'">'+o.clearCaption+"</span>",e=o.clearValue,a=o.getWidthFromValue(e)||0,o._toggleHover({caption:t,width:a,val:e}),o.$element.trigger("rating:hover",[e,t,"clear"]))},clearMouseLeave:function(t){o.events._noMouseAction(t)||o.clearClicked||!o.hoverOnClear||(t=o.cache,o._toggleHover(t),o.$element.trigger("rating:hoverleave",["clear"]))},resetForm:function(t){t&&t.isDefaultPrevented()||o.inactive||o.reset()},focus:function(){o.$rating.focus(),o.$element.trigger("rating:focus")},blur:function(){o.$element.trigger("rating:blur")},keydown:function(t){var e,a,n,i,r,s,l;!o.inactive&&o.keyboardEnabled&&(l=(e=o.$element).val(),a=!1,n=parseFloat(o.step),i=h.getDecimalPlaces(n),r=o.rtl?37:39,s=o.rtl?39:37,l=l?parseFloat(l):0,(t=parseInt(t.which||t.keyCode||0,10))===r&&l<o.max&&(l+=n,a=!0),t===s&&l>o.minThreshold&&(l-=n,a=!0),a&&(l=h.applyPrecision(l,i),e.val(l),o._trigChange([l,o._getCaption()]),o.showStars(e.val()),o.$rating.focus()),37!==t&&39!==t||e.trigger("rating:keydown",[l,o._getCaption()]))}}},_listen:function(){var i=this,t=i.$element,e=t.closest("form"),a=i.$rating,n=i.$clear,r=i.events,s=h.NAMESPACE,s="mousenter"+s+" mouseleave"+s,l=i.$rating.find(".star");return h.handler(a,"touchstart touchmove touchend",r.initTouch),h.handler(a,"click touchstart",r.starClick),h.handler(a,"mousemove",r.starMouseMove),h.handler(a,"mouseleave",r.starMouseLeave),h.handler(a,"keydown",r.keydown),h.handler(a,"blur",r.blur),i.showClear&&n.length&&(h.handler(n,"click touchstart",r.clearClick),h.handler(n,"mousemove",r.clearMouseMove),h.handler(n,"mouseleave",r.clearMouseLeave)),e.length&&h.handler(e,"reset",r.resetForm,!0),l.off(s).on(s,function(t){var e=u(this),a=e.index(),n=e.parent().attr("class").slice(0,-1);i.$element.trigger("rating:"+t.type,[a+1,n,e])}),h.handler(i.$container,"click",r.focus),t},_getStars:function(t){for(var e='<span class="'+t+'-stars">',a=1;a<=this.stars;a++)e+='<span class="star">'+this[t+"Star"]+"</span>";return e+"</span>"},_initStarTitles:function(n){var i,t,e=this;e.showCaptionAsTitle?e._initCaptionTitle():(i=e.starTitles,(t=function(t){var a=1;t.each(function(){var t=u(this),e="function"==typeof i?(e=a===Math.floor(n)?n:a,i(e)):i[a];e&&t.attr({title:e}),a++})})(e.$emptyStars.find(".star")),t(e.$filledStars.find(".star")))},_setStars:function(t){var e=this,t=arguments.length?e.calculate(t):e.calculate(),a=e.$element,n=e._parseValue(t.val);return a.val(n),e.$filledStars.css("width",t.width),e._setCaption(t.caption),e.cache=t,e._initStarTitles(n),a},showStars:function(t){t=this._parseValue(t);return this.$element.val(t),this._setStars()},calculate:function(t){var e=this,a=h.isEmpty(e.$element.val())?0:e.$element.val(),t=arguments.length?e.getValueFromPosition(t):a,a=e.fetchCaption(t),e=e.getWidthFromValue(t);return{caption:a,width:e+="%",val:t}},getValueFromPosition:function(t){var e=this,a=h.getDecimalPlaces(e.step),n=e.$rating.width(),t=e.diff*t/(n*e.step);return t=e.rtl?Math.floor(t):Math.ceil(t),n=h.applyPrecision(parseFloat(e.min+t*e.step),a),n=Math.max(Math.min(n,e.max),e.minThreshold),e.rtl?e.max-n:n},getWidthFromValue:function(t){var e=this,a=e.min,n=e.max,i=e.$emptyStars;return!t||t<=e.min||a===n?0:(t=Math.max(t,e.minThreshold),i=(e=i.outerWidth())?i.width()/e:1,n<=t?100:(t-a)*i*100/(n-a))},fetchCaption:function(t){var e=this,t=parseFloat(t)||e.clearValue,a=e.starCaptions,n=e.starCaptionClasses,i=e.getWidthFromValue(t);return t&&t!==e.clearValue&&(t=h.applyPrecision(t,h.getDecimalPlaces(e.step))),n="function"==typeof n?n(t,i):n[t],i="function"==typeof a?a(t,i):a[t],a=h.isEmpty(i)?e.defaultCaption.replace(/\{rating}/g,t):i,'<span class="'+(h.isEmpty(n)?e.clearCaptionClass:n)+'">'+(t===e.clearValue?e.clearCaption:a)+"</span>"},destroy:function(){var t=this.$element;return h.isEmpty(this.$container)||this.$container.before(t).remove(),u.removeData(t.get(0)),t.off("rating").removeClass("rating rating-input")},create:function(t){t=t||this.options||{};return this.destroy().rating(t)},clear:function(){var t=this,e='<span class="'+t.clearCaptionClass+'">'+t.clearCaption+"</span>";return t.inactive||t._setCaption(e),t.showStars(t.clearValue).trigger("change").trigger("rating:clear")},reset:function(){return this.showStars(this.initialValue).trigger("rating:reset")},update:function(t){return arguments.length?this.showStars(t):this.$element},refresh:function(t){var e=this.$element;return t?this.destroy().rating(u.extend(!0,this.options,t)).trigger("rating:refresh"):e}},u.fn.rating=function(l){var o=Array.apply(null,arguments),c=[];switch(o.shift(),this.each(function(){var t=u(this),e=t.data("rating"),a="object"==typeof l&&l,n=a.theme||t.data("theme"),i=a.language||t.data("language")||"en",r={},s={};e||(n&&(r=u.fn.ratingThemes[n]||{}),"en"===i||h.isEmpty(u.fn.ratingLocales[i])||(s=u.fn.ratingLocales[i]),n=u.extend(!0,{},u.fn.rating.defaults,r,u.fn.ratingLocales.en,s,a,t.data()),e=new d(this,n),t.data("rating",e)),"string"==typeof l&&c.push(e[l].apply(e,o))}),c.length){case 0:return this;case 1:return void 0===c[0]?this:c[0];default:return c}},u.fn.rating.defaults={theme:"krajee-svg",language:"en",stars:5,tabindex:0,keyboardEnabled:!0,mouseEnabled:!0,containerClass:"",size:"md",animate:!0,displayOnly:!1,rtl:!1,showClear:!0,showCaption:!0,starCaptionClasses:{.5:"caption-badge caption-danger",1:"caption-badge caption-danger",1.5:"caption-badge caption-warning",2:"caption-badge caption-warning",2.5:"caption-badge caption-info",3:"caption-badge caption-info",3.5:"caption-badge caption-primary",4:"caption-badge caption-primary",4.5:"caption-badge caption-success",5:"caption-badge caption-success"},filledStar:'<span class="bi-star-fill"></span>',emptyStar:'<span class="bi-star"></span>',clearButton:'<span class="fa-solid fa-circle-minus"></span>',clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaptionClass:"caption-badge caption-secondary",clearValue:null,captionElement:null,clearElement:null,showCaptionAsTitle:!1,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0,zeroAsNull:!0},u.fn.ratingLocales.en={defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},starTitles:{1:"One Star",2:"Two Stars",3:"Three Stars",4:"Four Stars",5:"Five Stars"},clearButtonTitle:"Clear",clearCaption:"Not Rated"},u.fn.rating.Constructor=d,u(document).ready(function(){var t=u("input.rating");t.length&&t.removeClass("rating-loading").addClass("rating-loading").rating()})}),function(){"use strict";window.jQuery.fn.ratingThemes["krajee-svg"]={filledStar:'<span class="krajee-icon krajee-icon-star"></span>',emptyStar:'<span class="krajee-icon krajee-icon-star"></span>',clearButton:'<span class="krajee-icon-clear"></span>'}}();