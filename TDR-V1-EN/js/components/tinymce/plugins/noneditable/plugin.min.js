!function(){"use strict";function l(t){return t.getParam("noneditable_noneditable_class","mceNonEditable")}function n(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}}function e(i){var r="contenteditable",t=" "+u.trim(i.getParam("noneditable_editable_class","mceEditable"))+" ",e=" "+u.trim(l(i))+" ",a=n(t),o=n(e),c=(t=i.getParam("noneditable_regexp",[]))&&t.constructor===RegExp?[t]:t;i.on("PreInit",function(){0<c.length&&i.on("BeforeSetContent",function(t){var e=i,n=c,r=n.length,a=t.content;if("raw"!==t.format){for(;r--;)a=a.replace(n[r],function(a,i,o){return function(t){var e=arguments,n=e[e.length-2],r=0<n?i.charAt(n-1):"";if('"'===r)return t;if(">"===r){r=i.lastIndexOf("<",n);if(-1!==r&&-1!==i.substring(r,n).indexOf('contenteditable="false"'))return t}return'<span class="'+o+'" data-mce-content="'+a.dom.encode(e[0])+'">'+a.dom.encode("string"==typeof e[1]?e[1]:e[0])+"</span>"}}(e,a,l(e)));t.content=a}}),i.parser.addAttributeFilter("class",function(t){for(var e,n=t.length;n--;)e=t[n],a(e)?e.attr(r,"true"):o(e)&&e.attr(r,"false")}),i.serializer.addAttributeFilter(r,function(t){for(var e,n=t.length;n--;)e=t[n],(a(e)||o(e))&&(0<c.length&&e.attr("data-mce-content")?(e.name="#text",e.type=3,e.raw=!0,e.value=e.attr("data-mce-content")):e.attr(r,null))})})}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.util.Tools");t.add("noneditable",function(t){e(t)})}();