!function(){"use strict";function g(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")}function a(e,t,n,i,o){r.setEditorTimeout(e,function(){c(e,t),n--?a(e,t,n,i,o):o&&o()},i)}function u(e,t){(e=e.getBody())&&(e.style.overflowY=t?"":"hidden",t||(e.scrollTop=0))}function l(e,t,n,i){return e=parseInt(e.getStyle(t,n,i),10),isNaN(e)?0:e}function c(e,t){var n,i,o,r,s=e.dom,a=e.getDoc();a&&(e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()?u(e,!0):(a=a.documentElement,r=e.getParam("autoresize_bottom_margin",50,"number"),n=g(e),i=l(s,a,"margin-top",!0),o=l(s,a,"margin-bottom",!0),(a=(a=a.offsetHeight+i+o+r)<0?0:a)+(i=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight)>g(e)&&(n=a+i),(o=e.getParam("max_height",0,"number"))&&o<n?(n=o,u(e,!0)):u(e,!1),n!==t.get()&&(r=n-t.get(),s.setStyle(e.getContainer(),"height",n+"px"),t.set(n),e.fire("ResizeEditor"),m.browser.isSafari()&&m.mac&&(a=e.getWin()).scrollTo(a.pageXOffset,a.pageYOffset),e.hasFocus()&&e.selection.scrollIntoView(e.selection.getNode()),m.webkit)&&r<0&&c(e,t)))}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay");e.add("autoresize",function(e){var t,n,i,o,r,s;e.settings.hasOwnProperty("resize")||(e.settings.resize=!1),e.inline||(s=0,r=t={get:function(){return s},set:function(e){s=e}},(o=e).addCommand("mceAutoResize",function(){c(o,r)}),i=t,(n=e).on("init",function(){var e=n.getParam("autoresize_overflow_padding",1,"number"),t=n.dom;t.setStyles(n.getDoc().documentElement,{height:"auto"}),t.setStyles(n.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})}),n.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(){c(n,i)}),n.getParam("autoresize_on_init",!0,"boolean")&&n.on("init",function(){a(n,i,20,100,function(){a(n,i,5,1e3)})}))})}();