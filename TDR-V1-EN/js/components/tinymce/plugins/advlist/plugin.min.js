!function(){"use strict";function i(n){return function(){return n}}function n(){return d}function u(e){function n(){return o}function t(n){return n(e)}var r=i(e),o={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:f,isNone:a,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:n,orThunk:n,map:function(n){return u(n(e))},each:function(n){n(e)},bind:t,exists:t,forall:t,filter:function(n){return n(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(a,function(n){return t(e,n)})}};return o}function c(r,n,t,e,o,i){r.ui.registry.addSplitButton(n,{tooltip:t,icon:"OL"===o?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(n){n(s.map(i,function(n){return{type:"choiceitem",value:"default"===n?"":n,icon:"list-"+("OL"===o?"num":"bull")+"-"+("disc"===n||"decimal"===n?"default":n),text:n.replace(/\-/g," ").replace(/\b\w/g,function(n){return n.toUpperCase()})}}))},onAction:function(){return r.execCommand(e)},onItemAction:function(n,t){l(r,o,t)},select:function(t){var n=(e=r).dom.getParent(e.selection.getNode(),"ol,ul"),e=e.dom.getStyle(n,"listStyleType");return g(e).map(function(n){return t===n}).getOr(!1)},onSetup:function(t){function n(n){t.setActive(y(r,n,o))}return r.on("NodeChange",n),function(){return r.off("NodeChange",n)}}})}function o(n,t,e,r,o,i){var u,l,s;1<i.length?c(n,t,e,r,o,i):(l=r,(u=n).ui.registry.addToggleButton(t,{active:!1,tooltip:e,icon:"OL"===(s=o)?"ordered-list":"unordered-list",onSetup:function(t){function n(n){t.setActive(y(u,n,s))}return u.on("NodeChange",n),function(){return u.off("NodeChange",n)}},onAction:function(){return u.execCommand(l)}}))}var t,e,r=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=function(n,t,e){n.execCommand("UL"===t?"InsertUnorderedList":"InsertOrderedList",!1,!1===e?null:{"list-style-type":e})},s=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=i(!1),f=i(!0),d={fold:function(n,t){return n()},is:a,isSome:a,isNone:f,getOr:e=function(n){return n},getOrThunk:t=function(n){return n()},getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:e,orThunk:t,map:n,each:function(){},bind:n,exists:a,forall:f,filter:n,equals:e=function(n){return n.isNone()},equals_:e,toArray:function(){return[]},toString:i("none()")},g=function(n){return null==n?d:u(n)},m=function(n){return n&&/^(TH|TD)$/.test(n.nodeName)},p=function(t){return function(n){return n&&/^(OL|UL|DL)$/.test(n.nodeName)&&(n=n,t.$.contains(t.getBody(),n))}},y=function(n,t,e){var r=function(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e;return-1}(t.parents,m),r=-1!==r?t.parents.slice(0,r):t.parents,t=s.grep(r,p(n));return 0<t.length&&t[0].nodeName===e};r.add("advlist",function(n){var e,t,r;n.hasPlugin("lists")?(o(t=n,"numlist","Numbered list","InsertOrderedList","OL",(r=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"))?r.split(/[ ,]/):[]),o(t,"bullist","Bullet list","InsertUnorderedList","UL",(r=t.getParam("advlist_bullet_styles","default,circle,square"))?r.split(/[ ,]/):[]),(e=n).addCommand("ApplyUnorderedListStyle",function(n,t){l(e,"UL",t["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",function(n,t){l(e,"OL",t["list-style-type"])})):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();