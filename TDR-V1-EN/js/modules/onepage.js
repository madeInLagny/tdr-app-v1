CNVS.OnePage=function(){function a(e){!function(){if(g.getOptions.scrollExternalLinks!=true)return;if(document.querySelector('a[data-href="'+g.getVars.hash+'"]')||document.querySelector('a[data-scrollto="'+g.getVars.hash+'"]')){window.onbeforeunload=function(){window.scrollTo({top:0,behavior:"auto"})};window.scrollTo({top:0,behavior:"auto"});var t=document.querySelector(g.getVars.hash);if(t)var a=setInterval(function(){var e=t.getAttribute("data-onepage-settings")&&JSON.parse(t.getAttribute("data-onepage-settings"));if(e){l(t,e,0);clearInterval(a)}},250)}}(),g.getVars.elLinkScrolls&&g.getVars.elLinkScrolls.forEach(function(t){s(t,"scrollTo"),t.onclick=function(e){e.preventDefault(),n(t,"scrollTo")}}),g.getVars.elOnePageMenus&&g.getVars.elOnePageMenus.forEach(function(e){g.getVars.elOnePageActiveClass=e.getAttribute("data-active-class")||"current",g.getVars.elOnePageParentSelector=e.getAttribute("data-parent")||"li",g.getVars.elOnePageActiveOnClick=e.getAttribute("data-onclick-active")||"false",e.querySelectorAll("[data-href]").forEach(function(t){s(t,"onePage"),t.onclick=function(e){e.preventDefault(),n(t,"onePage")}})})}function s(e,t){var a,s=i(e,t);s&&(s.removeAttribute("data-onepage-settings"),a=c(s,e),setTimeout(function(){s.hasAttribute("data-onepage-settings")||s.setAttribute("data-onepage-settings",JSON.stringify(a)),g.getVars.pageSectionEls=document.querySelectorAll("[data-onepage-settings]")},1e3))}function n(e,t){var a,s=i(e,t),n=s.getAttribute("id");s&&(a=JSON.parse(s.getAttribute("data-onepage-settings")),"scrollTo"!=t&&"true"==g.getVars.elOnePageActiveOnClick&&((parent=e.closest(".one-page-menu")).querySelectorAll(g.getVars.elOnePageParentSelector).forEach(function(e){e.classList.remove(g.getVars.elOnePageActiveClass)}),parent.querySelector('a[data-href="#'+n+'"]').closest(g.getVars.elOnePageParentSelector).classList.add(g.getVars.elOnePageActiveClass)),g.getVars.elBody.classList.contains("is-expanded-menu")&&!g.getVars.elBody.classList.contains("overlay-menu")||g.getVars.recalls.menureset(),l(s,a,250))}function r(){g.getVars.elOnePageMenus&&g.getVars.elOnePageMenus.forEach(function(e){e.querySelectorAll("[data-href]").forEach(function(e){e.closest(g.getVars.elOnePageParentSelector).classList.remove(g.getVars.elOnePageActiveClass)})}),g.getVars.elOnePageMenus&&g.getVars.elOnePageMenus.forEach(function(e){var s;e.querySelector('[data-href="#'+(void 0===g.getVars.pageSectionEls||(g.getVars.pageSectionEls.forEach(function(e){var t,a=e.getAttribute("data-onepage-settings")&&JSON.parse(e.getAttribute("data-onepage-settings"));a&&(a=g.offset(e).top-a.offset-5)<=(t=window.pageYOffset)&&t<a+e.offsetHeight&&e.getAttribute("id")!=s&&e.getAttribute("id")&&(s=e.getAttribute("id"))}),s))+'"]')?.closest(g.getVars.elOnePageParentSelector).classList.add(g.getVars.elOnePageActiveClass)})}var g=SEMICOLON.Core,o=SEMICOLON.Modules,i=function(e,t){t="scrollTo"==t?e.getAttribute("data-scrollto"):e.getAttribute("data-href");return document.querySelector(t)},l=function(t,a,e){setTimeout(function(){var e=g.offset(t).top;if(!a)return!1;a.easing?jQuery("html,body").stop(!0,!0).animate({scrollTop:e-Number(a.offset)},Number(a.speed),a.easing):window.scrollTo({top:e-Number(a.offset),behavior:"smooth"})},Number(e))},c=function(e,t){var a,s,n,r,o,i,l=g.getVars.elBody.classList;return void 0===e||t.length<1||!!e.hasAttribute("data-onepage-settings")||(e={offset:g.getVars.topScrollOffset,speed:1250,easing:!1},a={},i={},s=t.closest(".one-page-menu"),i.offset=s?.getAttribute("data-offset")||e.offset,i.speed=s?.getAttribute("data-speed")||e.speed,i.easing=s?.getAttribute("data-easing")||e.easing,s={offset:t.getAttribute("data-offset")||i.offset,speed:t.getAttribute("data-speed")||i.speed,easing:t.getAttribute("data-easing")||i.easing},e=t.getAttribute("data-offset-xxl"),i=t.getAttribute("data-offset-xl"),o=t.getAttribute("data-offset-lg"),r=t.getAttribute("data-offset-md"),n=t.getAttribute("data-offset-sm"),t=(t=t.getAttribute("data-offset-xs"))||Number(s.offset),n=n||Number(t),r=r||Number(n),o=o||Number(r),i=i||Number(o),e=e||Number(i),l.contains("device-xs")?s.offset=t:l.contains("device-sm")?s.offset=n:l.contains("device-md")?s.offset=r:l.contains("device-lg")?s.offset=o:l.contains("device-xl")?s.offset=i:l.contains("device-xxl")&&(s.offset=e),a.offset=s.offset,a.speed=s.speed,a.easing=s.easing,a)};return{init:function(e){var t;return g.getSelector(e,!1,!1).length<1||(g.initFunction({class:"has-plugin-onepage",event:"pluginOnePageReady"}),(e=g.getSelector(e,!1)).length<1)||(t=g.filtered(e,"[data-scrollto]"),e=g.filtered(e,".one-page-menu"),0<t.length&&(g.getVars.elLinkScrolls=t),0<e.length&&(g.getVars.elOnePageMenus=e),a(),r(),window.addEventListener("scroll",function(){r()}),void(g.getVars.resizers.onepage=function(){o.onePage()}))}}}();