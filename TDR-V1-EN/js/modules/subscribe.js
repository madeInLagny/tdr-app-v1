CNVS.Subscribe=function(){var r=SEMICOLON.Core,u=SEMICOLON.Modules;return{init:function(t){if(r.getSelector(t,!1,!1).length<1)return!0;r.loadJS({file:"plugins.form.js",id:"canvas-form-js",jsFolder:!0}),r.isFuncTrue(function(){return"undefined"!=typeof jQuery&&jQuery().validate&&jQuery().ajaxSubmit}).then(function(e){return!!e&&(r.initFunction({class:"has-plugin-form",event:"pluginFormReady"}),(t=r.getSelector(t)).length<1||void t.each(function(){var r,a,n,e=jQuery(this),i=e.attr("data-alert-type"),o=e.attr("data-loader"),s=e.find(".widget-subscribe-form-result"),l=e.attr("data-redirect");e.find("form").validate({submitHandler:function(t){s.hide(),"button"==o?(r=jQuery(t).find("button"),a=r.html(),r.html('<i class="bi-arrow-repeat icon-spin nomargin"></i>')):jQuery(t).find(".bi-envelope-plus").removeClass("bi-envelope-plus").addClass("bi-arrow-repeat icon-spin"),jQuery(t).ajaxSubmit({target:s,dataType:"json",resetForm:!0,success:function(e){if("button"==o?r.html(a):jQuery(t).find(".bi-arrow-repeat").removeClass("bi-arrow-repeat icon-spin").addClass("bi-envelope-plus"),"error"!=e.alert&&l)return window.location.replace(l),!0;"inline"==i?(n="error"==e.alert?"alert-danger":"alert-success",s.addClass("alert "+n).html(e.message).slideDown(400)):(s.attr("data-notify-type",e.alert).attr("data-notify-msg",e.message).html(""),u.notifications(s))}})}})}))})}}}();