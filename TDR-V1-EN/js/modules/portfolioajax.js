CNVS.PortfolioAjax=function(){function a(t){var e=!1,t=document.getElementById(t).nextElementSibling;return e=t?t.getAttribute("id"):e}function n(t){var e=!1,t=document.getElementById(t).previousElementSibling;return e=t?t.getAttribute("id"):e}var l=SEMICOLON.Core,s=function(t){var e,o=a(t),t=n(t),r=document.getElementById("portfolio-navigation");!document.getElementById("prev-portfolio")&&t&&((e=document.createElement("a")).setAttribute("href","#"),e.setAttribute("id","prev-portfolio"),e.setAttribute("data-id",t),e.innerHTML='<i class="bi-arrow-left"></i>',e)&&r?.insertBefore(e,document.getElementById("close-portfolio")),!document.getElementById("next-portfolio")&&o&&((t=document.createElement("a")).setAttribute("href","#"),t.setAttribute("id","next-portfolio"),t.setAttribute("data-id",o),t.innerHTML='<i class="bi-arrow-right"></i>',t)&&r?.insertBefore(t,document.getElementById("close-portfolio"))},c=function(o,t,e){e=e||!1;var r=a(o),i=n(o);0==e&&(f(),l.getVars.elBody.classList.add("portfolio-ajax-loading"),e=document.getElementById(o).getAttribute("data-loader"),fetch(e).then(function(t){return t.text()}).then(function(t){l.getVars.portfolioAjax.container.innerHTML=t;var t=document.getElementById("next-portfolio"),e=document.getElementById("prev-portfolio");(t?.classList.add("d-none"),e?.classList.add("d-none"),r&&(t?.setAttribute("data-id",r),t?.classList.remove("d-none")),i&&(e?.setAttribute("data-id",i),e?.classList.remove("d-none")),t=o,l.getVars.portfolioAjax.prevItem=document.getElementById(t),s(t),document.querySelectorAll("#next-portfolio, #prev-portfolio").forEach(function(e){e.onclick=function(t){t.preventDefault(),f();t=e.getAttribute("data-id");document.getElementById(t).classList.add("portfolio-active"),c(t,l.getVars.portfolioAjax.prevItem)}}),document.getElementById("close-portfolio").onclick=function(t){t.preventDefault(),f()},l.getVars.portfolioAjax.container.querySelectorAll("img").length<1)?p():(l.imagesLoaded(l.getVars.portfolioAjax.container),l.getVars.portfolioAjax.container.addEventListener("CanvasImagesLoaded",function(){p()}));l.getVars.portfolioAjax.items.forEach(function(t){t.classList.remove("portfolio-active")}),document.getElementById(o).classList.add("portfolio-active")}).catch(function(t){console.warn("Something went wrong.",t)}))},f=function(){l.getVars.portfolioAjax.wrapper&&32<l.getVars.portfolioAjax.wrapper.offsetHeight&&(l.getVars.elBody.classList.remove("portfolio-ajax-loading"),l.getVars.portfolioAjax.wrapper.classList.remove("portfolio-ajax-opened"),l.getVars.portfolioAjax.wrapper.querySelector("#portfolio-ajax-single").addEventListener("transitionend",function(){l.getVars.portfolioAjax.wrapper.querySelector("#portfolio-ajax-single").remove()}),l.getVars.portfolioAjax.items.forEach(function(t){t.classList.remove("portfolio-active")}))},p=function(){l.getVars.portfolioAjax.container.style.display="block",l.getVars.portfolioAjax.wrapper.classList.add("portfolio-ajax-opened"),l.getVars.elBody.classList.remove("portfolio-ajax-loading"),setTimeout(function(){l.runContainerModules(l.getVars.portfolioAjax.wrapper),window.scrollTo({top:l.getVars.portfolioAjax.wrapperOffset-l.getVars.topScrollOffset-60,behavior:"smooth"})},500)};return{init:function(t){return l.getSelector(t,!1,!1).length<1||(l.initFunction({class:"has-plugin-ajaxportfolio",event:"pluginAjaxPortfolioReady"}),(t=l.getSelector(t,!1)).length<1)||(l.getVars.portfolioAjax.items=t[0].querySelectorAll(".portfolio-item"),l.getVars.portfolioAjax.wrapper=document.getElementById("portfolio-ajax-wrap"),l.getVars.portfolioAjax.wrapperOffset=l.offset(l.getVars.portfolioAjax.wrapper).top,l.getVars.portfolioAjax.container=document.getElementById("portfolio-ajax-container"),l.getVars.portfolioAjax.loader=document.getElementById("portfolio-ajax-loader"),l.getVars.portfolioAjax.prevItem="",void t[0].querySelectorAll(".portfolio-ajax-trigger").forEach(function(t){t.querySelector("i:nth-child(2)")||(t.innerHTML+='<i class="bi-arrow-repeat icon-spin"></i>'),t.onclick=function(t){t.preventDefault();var e=t.target.closest(".portfolio-item").getAttribute("id");t.target.closest(".portfolio-item").classList.contains("portfolio-active")||c(e,l.getVars.portfolioAjax.prevItem)}}))}}}();