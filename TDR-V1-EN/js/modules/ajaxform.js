CNVS.AjaxForm=function(){var r=SEMICOLON.Core,d=SEMICOLON.Modules;return{init:function(t){if(r.getSelector(t,!1,!1).length<1)return!0;r.loadJS({file:"plugins.form.js",id:"canvas-form-js",jsFolder:!0}),r.isFuncTrue(function(){return"undefined"!=typeof jQuery&&jQuery().validate&&jQuery().ajaxSubmit}).then(function(e){return!!e&&(r.initFunction({class:"has-plugin-form",event:"pluginFormReady"}),(t=r.getSelector(t)).length<1||void t.each(function(){var a,n,e=jQuery(this),s=jQuery("body"),i=e.find("form").attr("id"),o=e.attr("data-alert-type"),u=e.attr("data-loader"),l=e.find(".form-result"),c=e.attr("data-redirect"),o=o||"notify";i&&s.addClass(i+"-ready"),e.find("form").validate({errorPlacement:function(e,t){0<t.parents(".form-group").length?e.appendTo(t.parents(".form-group")):e.insertAfter(t)},focusCleanup:!0,submitHandler:function(r){if(e.hasClass("custom-submit"))return jQuery(r).submit(),!0;l.hide(),"button"==u?(a=jQuery(r).find("button"),defaultBtnText=a.html(),a.html('<i class="bi-arrow-repeat icon-spin m-0"></i>')):jQuery(r).find(".form-process").fadeIn(),i&&s.removeClass(i+"-ready "+i+"-complete "+i+"-success "+i+"-error").addClass(i+"-processing"),jQuery(r).ajaxSubmit({target:l,dataType:"json",success:function(e){if("button"==u?a.html(defaultBtnText):jQuery(r).find(".form-process").fadeOut(),"error"!=e.alert&&c)return window.location.replace(c),!0;var t;"inline"==o?(n="error"==e.alert?"alert-danger":"alert-success",l.removeClass("alert-danger alert-success").addClass("alert "+n).html(e.message).slideDown(400)):"notify"==o&&(l.attr("data-notify-type",e.alert).attr("data-notify-msg",e.message).html(""),d.notifications(l)),"error"!=e.alert?(jQuery(r).resetForm(),jQuery(r).find(".btn-group > .btn").removeClass("active"),"undefined"!=typeof tinyMCE&&tinyMCE.activeEditor&&!tinyMCE.activeEditor.isHidden()&&tinymce.activeEditor.setContent(""),0<(t=jQuery(r).find(".input-range-slider")).length&&t.each(function(){jQuery(this).data("ionRangeSlider").reset()}),0<(t=jQuery(r).find(".input-rating")).length&&t.each(function(){jQuery(this).rating("reset")}),0<(t=jQuery(r).find(".selectpicker")).length&&t.each(function(){jQuery(this).selectpicker("val",""),jQuery(this).selectpicker("deselectAll")}),jQuery(r).find(".input-select2,select[data-selectsplitter-firstselect-selector]").change(),jQuery(r).trigger("formSubmitSuccess",e),s.removeClass(i+"-error").addClass(i+"-success")):(jQuery(r).trigger("formSubmitError",e),s.removeClass(i+"-success").addClass(i+"-error")),i&&s.removeClass(i+"-processing").addClass(i+"-complete"),0<jQuery(r).find(".g-recaptcha").children("div").length&&grecaptcha.reset()}})}})}))})}}}();