CNVS.Lightbox=function(){var r=SEMICOLON.Core;return{init:function(a){if(r.getSelector(a,!1,!1).length<1)return!0;r.loadJS({file:"plugins.lightbox.js",id:"canvas-lightbox-js",jsFolder:!0}),r.isFuncTrue(function(){return"undefined"!=typeof jQuery&&jQuery().magnificPopup}).then(function(e){var s;return!!e&&(r.initFunction({class:"has-plugin-lightbox",event:"pluginLightboxReady"}),(a=r.getSelector(a)).length<1||(s='<i class="bi-x-lg"></i>',void a.each(function(){var e,a=jQuery(this),n=a.attr("data-lightbox"),t=a.attr("data-close-button")||"outside",i=a.attr("data-disable-under")||600,o=a.attr("data-content-position")||"auto",l=a.attr("data-zoom"),d=jQuery("body"),t="inside"==t,o="fixed"==o;"image"==n&&(e={type:"image",tLoading:"",closeOnContentClick:!0,closeBtnInside:t,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-fade",image:{verticalFit:!0},closeIcon:s},"true"==l&&(e.zoom={enabled:!0,duration:300,easing:"ease-in-out",opener:function(e){return e.is("img")?e:e.find("img")}}),a.magnificPopup(e)),"gallery"==n&&(a.find('a[data-lightbox="gallery-item"]').parent(".clone").hasClass("clone")&&a.find('a[data-lightbox="gallery-item"]').parent(".clone").find('a[data-lightbox="gallery-item"]').attr("data-lightbox",""),a.find('a[data-lightbox="gallery-item"]').parents(".cloned").hasClass("cloned")&&a.find('a[data-lightbox="gallery-item"]').parents(".cloned").find('a[data-lightbox="gallery-item"]').attr("data-lightbox",""),a.magnificPopup({delegate:a.hasClass("grid-container-filterable")?'a.grid-lightbox-filtered[data-lightbox="gallery-item"]':'a[data-lightbox="gallery-item"]',type:"image",tLoading:"",closeOnContentClick:!0,closeBtnInside:t,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-fade",image:{verticalFit:!0},gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},closeIcon:s})),"iframe"==n&&a.magnificPopup({disableOn:Number(i),type:"iframe",tLoading:"",removalDelay:160,preloader:!1,closeBtnInside:t,fixedContentPos:o,closeIcon:s}),"inline"==n&&a.magnificPopup({type:"inline",tLoading:"",mainClass:"mfp-no-margins mfp-fade",closeBtnInside:t,fixedContentPos:!0,overflowY:"scroll",closeIcon:s}),"ajax"==n&&a.magnificPopup({type:"ajax",tLoading:"",closeBtnInside:t,autoFocusLast:!1,closeIcon:s,callbacks:{ajaxContentAdded:function(e){r.runContainerModules(document.querySelector(".mfp-content"))},open:function(){d.addClass("ohidden")},close:function(){d.removeClass("ohidden")}}}),"ajax-gallery"==n&&a.magnificPopup({delegate:'a[data-lightbox="ajax-gallery-item"]',type:"ajax",tLoading:"",closeBtnInside:t,closeIcon:s,autoFocusLast:!1,gallery:{enabled:!0,preload:0,navigateByImgClick:!1},callbacks:{ajaxContentAdded:function(e){r.runContainerModules(document.querySelector(".mfp-content"))},open:function(){d.addClass("ohidden")},close:function(){d.removeClass("ohidden")}}}),a.on("mfpOpen",function(){var e=jQuery.magnificPopup.instance.currItem.el,a=jQuery(e).attr("data-lightbox-class"),e=jQuery(e).attr("data-lightbox-bg-class");""!=a&&jQuery(jQuery.magnificPopup.instance.container).addClass(a),""!=e&&jQuery(jQuery.magnificPopup.instance.bgOverlay).addClass(e)})})))})}}}();